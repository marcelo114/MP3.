<!DOCTYPE html><html><head><meta charset="utf-8"><style>:root {
            --primary-bg: #0a0a0a; --secondary-bg: #121212; --card-bg: #1e1e1e;
            --accent: #ff375f; --text: #fff; --text-sec: #b3b3b3;
            --border: #2a2a2a; --radius: 12px;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background: var(--primary-bg); color: var(--text); font-family: 'Inter', sans-serif; padding: 10px; overflow-x: hidden; }
        .container { max-width: 480px; margin: 0 auto; }
        .section { background: var(--secondary-bg); border-radius: var(--radius); padding: 16px; margin-bottom: 16px; border: 1px solid var(--border); }
        
        /* --- CONVERSOR COM ZOOM AJUSTADO (FIXO) --- */
        .yt-box { background: #181818; border-radius: var(--radius); padding: 12px; border: 1px solid #333; }
        
        #yt-frame-ui { 
            width: 100%; 
            height: 180px; /* Altura ideal para ver o botﾃ｣o converter */
            overflow: hidden; 
            border-radius: 8px; 
            background: #fff; 
            position: relative; 
            margin-top: 5px;
        }

        #conv-iframe { 
            width: 125%; /* Aumenta a largura interna para compensar o zoom */
            height: 800px; 
            border: none; 
            position: absolute; 
            top: -155px; 
            left: 0;
            transform: scale(0.8); /* DIMNUI O ZOOM INTERNO DA API */
            transform-origin: top left;
        }

        .close-bar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 6px 12px; background: #222; color: var(--accent);
            font-size: 0.7rem; font-weight: bold; border-radius: 8px 8px 0 0;
        }

        /* --- PLAYER E CAPAS --- */
        .cd-disk { 
            width: 180px; height: 180px; border-radius: 50%; 
            border: 8px solid #000; margin: 0 auto 15px; 
            overflow: hidden; position: relative; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
            background: #111;
        }
        #cd-cover { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .playing { animation: spin 12s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Estilo dos Botﾃｵes e Listas */
        .mode-toggle { display: flex; gap: 10px; margin: 15px 0; }
        .mode-btn { flex: 1; padding: 12px; border-radius: var(--radius); border: 1px solid var(--border); background: var(--card-bg); color: var(--text-sec); cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .mode-btn.active { background: var(--accent); color: white; border: none; }

        .btn-ctrl { width: 45px; height: 45px; border-radius: 50%; background: var(--card-bg); border: 1px solid var(--border); color: white; cursor: pointer; transition: 0.2s; }
        .btn-play { width: 60px; height: 60px; font-size: 1.4rem; background: var(--accent); border: none; }
        .btn-play:active { transform: scale(0.9); }

        .scroll-area { max-height: 200px; overflow-y: auto; margin-top: 10px; }
        .item { padding: 12px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 6px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-size: 0.85rem; border: 1px solid transparent; }
        .item.active { border-color: var(--accent); background: rgba(255,55,95,0.1); }
        .hidden { display: none !important; }
        
        .search-box { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--border); background: var(--card-bg); color: white; margin-bottom: 10px; }</style></head><body><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>P2 Ultimate - Ediﾃｧﾃ｣o Final</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
</head>
<body>

<div class="container">
    <h1 style="font-size: 1.6rem; text-align: center; margin: 15px 0; font-weight: 800; letter-spacing: -1px;">
        <span style="color: var(--accent);">P2</span> ULTIMATE
    </h1>

    <section class="section yt-box">
        <div id="yt-input-ui">
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                <i class="fab fa-youtube" style="color:red; font-size: 1.2rem;"></i>
                <b style="font-size: 0.9rem;">Conversor de Vﾃｭdeo</b>
            </div>
            <div style="display: flex; gap: 8px;">
                <input type="text" id="yt-url" class="search-box" style="margin-bottom:0;" placeholder="Cole o link do YouTube...">
                <button onclick="startConversion()" class="btn-ctrl" style="background:red; border:none; flex-shrink:0;"><i class="fas fa-download"></i></button>
            </div>
        </div>

        <div id="yt-frame-ui" class="hidden">
            <div class="close-bar">
                <span><i class="fas fa-sync fa-spin"></i> PRONTO PARA CONVERTER</span>
                <span onclick="closeConversion()" style="cursor:pointer;"><i class="fas fa-times-circle"></i> FECHAR</span>
            </div>
            <iframe id="conv-iframe" src="" scrolling="no"></iframe>
        </div>
    </section>

    <div class="mode-toggle">
        <button id="btn-mp3" class="mode-btn active" onclick="setMode('mp3')"><i class="fas fa-file-audio"></i> MP3</button>
        <button id="btn-radio" class="mode-btn" onclick="setMode('radio')"><i class="fas fa-tower-broadcast"></i> Rﾃ．IO</button>
    </div>

    <section class="section" style="text-align: center;">
        <div class="cd-disk" id="cd-disk">
            <img id="cd-cover" src="https://cdn-icons-png.flaticon.com/512/26/26433.png" alt="Capa">
        </div>

        <div style="margin-bottom: 15px; padding: 0 10px;">
            <b id="track-title" style="font-size: 1rem; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">P2 Player</b>
            <small id="track-sub" style="color: var(--text-sec); font-size: 0.8rem;">Toque algo para comeﾃｧar</small>
        </div>

        <div id="panel-mp3">
            <label style="display:block; border:2px dashed #333; padding:15px; text-align:center; border-radius:8px; cursor:pointer; font-size: 0.8rem; color: var(--text-sec); transition: 0.3s;" onmouseover="this.style.borderColor= 'var(--accent)'" onmouseout="this.style.borderColor='#333'">
                <input type="file" id="mp3-input" accept="audio/*" multiple style="display:none">
                <i class="fas fa-plus-circle" style="font-size: 1.2rem; margin-bottom: 5px; display: block;"></i> ADICIONAR Mﾃ售ICAS
            </label>
            <div class="scroll-area" id="mp3-list"></div>
        </div>

        <div id="panel-radio" class="hidden">
            <input type="text" id="radio-search" class="search-box" placeholder="剥 Buscar emissora brasileira..." oninput="searchRadio()">
            <div class="scroll-area" id="radio-list"></div>
        </div>

        <div class="controls">
            <button class="btn-ctrl" onclick="handlePrev()"><i class="fas fa-backward"></i></button>
            <button class="btn-ctrl btn-play" id="play-btn" onclick="togglePlay()"><i class="fas fa-play"></i></button>
            <button class="btn-ctrl" onclick="handleNext()"><i class="fas fa-forward"></i></button>
        </div>
    </section>
</div>

<audio id="main-audio"></audio>



</body>
</html><script>const audio = document.getElementById('main-audio');
    const cd = document.getElementById('cd-disk');
    const cdCover = document.getElementById('cd-cover');
    let radios = [];
    let mySongs = [];
    let currentIdx = -1;
    let isRadio = false;

    // --- CONVERSOR (ZOOM E POSIﾃﾃグ) ---
    function startConversion() {
        const url = document.getElementById('yt-url').value.trim();
        if(!url.includes('youtu')) return alert("Por favor, cole um link vﾃ｡lido.");
        
        document.getElementById('yt-input-ui').classList.add('hidden');
        document.getElementById('yt-frame-ui').classList.remove('hidden');
        // Carrega a API no iframe
        document.getElementById('conv-iframe').src = `https://ezconv.cc/?url=${encodeURIComponent(url)}`;
    }

    function closeConversion() {
        document.getElementById('yt-input-ui').classList.remove('hidden');
        document.getElementById('yt-frame-ui').classList.add('hidden');
        document.getElementById('conv-iframe').src = "";
        document.getElementById('yt-url').value = "";
    }

    // --- TROCA DE MODO ---
    function setMode(mode) {
        isRadio = (mode === 'radio');
        document.getElementById('btn-mp3').classList.toggle('active', !isRadio);
        document.getElementById('btn-radio').classList.toggle('active', isRadio);
        document.getElementById('panel-mp3').classList.toggle('hidden', isRadio);
        document.getElementById('panel-radio').classList.toggle('hidden', !isRadio);
        audio.pause();
    }

    // --- Rﾃ．IOS (CAPA DA API) ---
    async function loadRadios() {
        try {
            const res = await fetch('https://de1.api.radio-browser.info/json/stations/bycountry/brazil?limit=200&order=votes&reverse=true');
            radios = await res.json();
            renderRadios(radios);
        } catch(e) { console.error("Erro API Rﾃ｡dio"); }
    }

    function renderRadios(list) {
        const area = document.getElementById('radio-list');
        area.innerHTML = '';
        list.forEach(r => {
            const div = document.createElement('div');
            div.className = 'item';
            div.onclick = () => {
                audio.src = r.url_resolved;
                document.getElementById('track-title').innerText = r.name;
                document.getElementById('track-sub').innerText = r.state || "Rﾃ｡dio Brasil";
                // FORﾃ② A CAPA DA Rﾃ．IO (Favicon da API)
                cdCover.src = r.favicon && r.favicon.length > 10 ? r.favicon : 'https://cdn-icons-png.flaticon.com/512/26/26433.png';
                audio.play();
            }
            div.innerHTML = `<img src="${r.favicon || 'https://cdn-icons-png.flaticon.com/512/26/26433.png'}" style="width:24px; height:24px; border-radius:4px;"> <b>${r.name}</b>`;
            area.appendChild(div);
        });
    }

    function searchRadio() {
        const val = document.getElementById('radio-search').value.toLowerCase();
        renderRadios(radios.filter(r => r.name.toLowerCase().includes(val)));
    }

    // --- MP3 (CAPA PADRﾃグ/LOCAL) ---
    document.getElementById('mp3-input').onchange = (e) => {
        const files = Array.from(e.target.files);
        mySongs = mySongs.concat(files);
        renderMp3();
    }

    function renderMp3() {
        const area = document.getElementById('mp3-list');
        area.innerHTML = '';
        mySongs.forEach((s, i) => {
            const div = document.createElement('div');
            div.className = 'item' + (currentIdx === i ? ' active' : '');
            div.onclick = () => {
                currentIdx = i;
                audio.src = URL.createObjectURL(s);
                document.getElementById('track-title').innerText = s.name;
                document.getElementById('track-sub').innerText = "Arquivo Local";
                // Capa padrﾃ｣o para MP3 (ou vocﾃｪ pode implementar um leitor de ID3 tag aqui)
                cdCover.src = 'https://www.pngall.com/wp-content/uploads/2/Vinyl-Record-PNG-Transparent-HD-Photo.png';
                renderMp3();
                audio.play();
            }
            div.innerHTML = `<i class="fas fa-music" style="color:var(--accent)"></i> <span style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">${s.name}</span>`;
            area.appendChild(div);
        });
    }

    // --- CONTROLES ---
    function togglePlay() {
        if(!audio.src) return;
        audio.paused ? audio.play() : audio.pause();
    }

    audio.onplay = () => { cd.classList.add('playing'); document.getElementById('play-btn').innerHTML = '<i class="fas fa-pause"></i>'; }
    audio.onpause = () => { cd.classList.remove('playing'); document.getElementById('play-btn').innerHTML = '<i class="fas fa-play"></i>'; }

    function handleNext() { if(!isRadio && mySongs.length) { currentIdx = (currentIdx + 1) % mySongs.length; playFileByIndex(currentIdx); } }
    function handlePrev() { if(!isRadio && mySongs.length) { currentIdx = (currentIdx - 1 + mySongs.length) % mySongs.length; playFileByIndex(currentIdx); } }

    function playFileByIndex(i) {
        const items = document.querySelectorAll('#panel-mp3 .item');
        if(items[i]) items[i].click();
    }

    loadRadios();</script></body></html>