<!DOCTYPE html><html><head><meta charset="utf-8"><style>:root {
            --primary-bg: #0a0a0a; --secondary-bg: #121212; --card-bg: #1e1e1e;
            --accent: #ff375f; --text: #fff; --text-sec: #b3b3b3;
            --border: #2a2a2a; --radius: 12px;
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background: var(--primary-bg); color: var(--text); font-family: 'Inter', sans-serif; padding: 10px; overflow-x: hidden; }
        .container { max-width: 480px; margin: 0 auto; }
        .section { background: var(--secondary-bg); border-radius: var(--radius); padding: 16px; margin-bottom: 16px; border: 1px solid var(--border); }
        
        /* CONVERSOR ZOOM FIXO */
        .yt-box { background: #181818; border-radius: var(--radius); padding: 12px; border: 1px solid #333; }
        #yt-frame-ui { 
            width: 100%; height: 195px; overflow: hidden; border-radius: 8px; 
            background: #fff; position: relative; margin-top: 5px;
        }
        #conv-iframe { 
            width: 128%; height: 850px; border: none; position: absolute; 
            top: -160px; left: 0; transform: scale(0.78); transform-origin: top left;
        }
        .close-bar {
            display: flex; justify-content: space-between; align-items: center;
            padding: 7px 12px; background: #222; color: var(--accent);
            font-size: 0.7rem; font-weight: bold; border-radius: 8px 8px 0 0;
        }

        /* PLAYER */
        .cd-disk { 
            width: 170px; height: 170px; border-radius: 50%; border: 8px solid #000; 
            margin: 0 auto 15px; overflow: hidden; position: relative; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.6); background: #111;
        }
        #cd-cover { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .playing { animation: spin 12s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* INTERFACE */
        .mode-toggle { display: flex; gap: 10px; margin: 15px 0; }
        .mode-btn { flex: 1; padding: 12px; border-radius: var(--radius); border: 1px solid var(--border); background: var(--card-bg); color: var(--text-sec); cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .mode-btn.active { background: var(--accent); color: white; border: none; }
        .btn-ctrl { width: 45px; height: 45px; border-radius: 50%; background: var(--card-bg); border: 1px solid var(--border); color: white; cursor: pointer; }
        .btn-play { width: 60px; height: 60px; font-size: 1.4rem; background: var(--accent); border: none; }
        
        /* LISTAS */
        .scroll-area { max-height: 220px; overflow-y: auto; margin-top: 10px; padding-right: 5px; }
        .item { padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 6px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-size: 0.85rem; border: 1px solid transparent; }
        .item.active { border-color: var(--accent); background: rgba(255,55,95,0.1); }
        .search-box { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--border); background: var(--card-bg); color: white; margin-bottom: 8px; }
        .hidden { display: none !important; }

        /* BOTAO RECARREGAR */
        .refresh-btn { background: none; border: 1px solid #444; color: #888; padding: 4px 10px; border-radius: 20px; font-size: 0.65rem; cursor: pointer; float: right; }
        .refresh-btn:hover { color: var(--accent); border-color: var(--accent); }</style></head><body><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>P2 Ultimate - Oficial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
</head>
<body>

<div class="container">
    <h1 style="font-size: 1.6rem; text-align: center; margin: 15px 0; font-weight: 800;">P2 <span style="color: var(--accent);">ULTIMATE</span></h1>

    <section class="section yt-box">
        <div id="yt-input-ui">
            <h2 style="font-size: 0.85rem; margin-bottom: 8px; opacity: 0.7;"><i class="fab fa-youtube"></i> Converter Link</h2>
            <div style="display: flex; gap: 8px;">
                <input type="text" id="yt-url" class="search-box" style="margin-bottom:0;" placeholder="Cole o link aqui...">
                <button onclick="startConversion()" class="btn-ctrl" style="background:red; border:none; flex-shrink:0;"><i class="fas fa-download"></i></button>
            </div>
        </div>
        <div id="yt-frame-ui" class="hidden">
            <div class="close-bar"><span>AGUARDE A CONVERS√ÉO...</span><span onclick="closeConversion()" style="cursor:pointer;"><i class="fas fa-times"></i> FECHAR</span></div>
            <iframe id="conv-iframe" src="" scrolling="no"></iframe>
        </div>
    </section>

    <div class="mode-toggle">
        <button id="btn-mp3" class="mode-btn active" onclick="setMode('mp3')"><i class="fas fa-music"></i> MP3</button>
        <button id="btn-radio" class="mode-btn" onclick="setMode('radio')"><i class="fas fa-broadcast-tower"></i> R√ÅDIOS</button>
    </div>

    <section class="section" style="text-align: center;">
        <div class="cd-disk" id="cd-disk">
            <img id="cd-cover" src="https://cdn-icons-png.flaticon.com/512/26/26433.png">
        </div>
        <div style="margin-bottom: 15px; padding: 0 10px;">
            <b id="track-title" style="font-size: 0.95rem; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Pronto para tocar</b>
            <small id="track-sub" style="color: var(--text-sec);">Escolha sua m√∫sica</small>
        </div>

        <div id="panel-mp3">
            <label style="display:block; border:1px dashed #444; padding:12px; text-align:center; border-radius:8px; cursor:pointer; font-size: 0.8rem; color: #888;">
                <input type="file" id="mp3-input" accept="audio/*" multiple style="display:none">
                <i class="fas fa-plus"></i> ADICIONAR ARQUIVOS
            </label>
            <div class="scroll-area" id="mp3-list"></div>
        </div>

        <div id="panel-radio" class="hidden">
            <button class="refresh-btn" onclick="loadRadios()"><i class="fas fa-sync-alt"></i> Atualizar Lista</button>
            <input type="text" id="radio-search" class="search-box" placeholder="üîç Filtrar por nome..." oninput="searchRadio()">
            <div class="scroll-area" id="radio-list">Carregando esta√ß√µes...</div>
        </div>

        <div class="controls">
            <button class="btn-ctrl" onclick="handlePrev()"><i class="fas fa-backward"></i></button>
            <button class="btn-ctrl btn-play" id="play-btn" onclick="togglePlay()"><i class="fas fa-play"></i></button>
            <button class="btn-ctrl" onclick="handleNext()"><i class="fas fa-forward"></i></button>
        </div>
    </section>
</div>

<audio id="main-audio"></audio>


</body>
</html><script>const audio = document.getElementById('main-audio');
    const cd = document.getElementById('cd-disk');
    const cdCover = document.getElementById('cd-cover');
    let radios = [];
    let mySongs = [];
    let currentIdx = -1;
    let isRadio = false;

    // CONVERSOR
    function startConversion() {
        const url = document.getElementById('yt-url').value;
        if(!url.includes('youtu')) return alert("Link do YouTube inv√°lido.");
        document.getElementById('yt-input-ui').classList.add('hidden');
        document.getElementById('yt-frame-ui').classList.remove('hidden');
        document.getElementById('conv-iframe').src = `https://ezconv.cc/?url=${encodeURIComponent(url)}`;
    }

    function closeConversion() {
        document.getElementById('yt-input-ui').classList.remove('hidden');
        document.getElementById('yt-frame-ui').classList.add('hidden');
        document.getElementById('conv-iframe').src = "";
    }

    // MODOS
    function setMode(mode) {
        isRadio = (mode === 'radio');
        document.getElementById('btn-mp3').classList.toggle('active', !isRadio);
        document.getElementById('btn-radio').classList.toggle('active', isRadio);
        document.getElementById('panel-mp3').classList.toggle('hidden', isRadio);
        document.getElementById('panel-radio').classList.toggle('hidden', !isRadio);
        audio.pause();
    }

    // R√ÅDIOS (Corre√ß√£o GitHub Pages)
    async function loadRadios() {
        document.getElementById('radio-list').innerHTML = "Buscando esta√ß√µes...";
        const servers = ['de1', 'at1', 'nl1'];
        const server = servers[Math.floor(Math.random() * servers.length)];
        const url = `https://${server}.api.radio-browser.info/json/stations/bycountry/brazil?limit=250&order=votes&reverse=true`;
        
        try {
            const res = await fetch(url);
            radios = await res.json();
            renderRadios(radios);
        } catch(e) { 
            document.getElementById('radio-list').innerHTML = "Falha ao conectar. Clique em Atualizar.";
        }
    }

    function renderRadios(list) {
        const area = document.getElementById('radio-list');
        area.innerHTML = '';
        list.forEach(r => {
            const div = document.createElement('div');
            div.className = 'item';
            div.onclick = () => {
                audio.src = r.url_resolved;
                document.getElementById('track-title').innerText = r.name;
                document.getElementById('track-sub').innerText = r.state || "Brasil";
                // Ajuste da capa: Se n√£o tiver favicon, usa √≠cone padr√£o
                cdCover.src = (r.favicon && r.favicon.length > 10) ? r.favicon : 'https://cdn-icons-png.flaticon.com/512/26/26433.png';
                audio.play();
            }
            const thumb = (r.favicon && r.favicon.length > 10) ? r.favicon : 'https://cdn-icons-png.flaticon.com/512/26/26433.png';
            div.innerHTML = `<img src="${thumb}" style="width:30px; height:30px; border-radius:4px; object-fit:cover; background:#222;"> <b>${r.name}</b>`;
            area.appendChild(div);
        });
    }

    function searchRadio() {
        const val = document.getElementById('radio-search').value.toLowerCase();
        renderRadios(radios.filter(r => r.name.toLowerCase().includes(val)));
    }

    // MP3
    document.getElementById('mp3-input').onchange = (e) => {
        const files = Array.from(e.target.files);
        mySongs = mySongs.concat(files);
        renderMp3();
    }

    function renderMp3() {
        const area = document.getElementById('mp3-list');
        area.innerHTML = '';
        mySongs.forEach((s, i) => {
            const div = document.createElement('div');
            div.className = 'item' + (currentIdx === i ? ' active' : '');
            div.onclick = () => {
                currentIdx = i;
                audio.src = URL.createObjectURL(s);
                document.getElementById('track-title').innerText = s.name;
                document.getElementById('track-sub').innerText = "Arquivo Local";
                cdCover.src = 'https://www.pngall.com/wp-content/uploads/2/Vinyl-Record-PNG-Transparent-HD-Photo.png';
                renderMp3();
                audio.play();
            }
            div.innerHTML = `<i class="fas fa-music" style="color:var(--accent)"></i> <span style="white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">${s.name}</span>`;
            area.appendChild(div);
        });
    }

    // PLAYER CONTROLES
    function togglePlay() { if(audio.src) audio.paused ? audio.play() : audio.pause(); }
    audio.onplay = () => { cd.classList.add('playing'); document.getElementById('play-btn').innerHTML = '<i class="fas fa-pause"></i>'; }
    audio.onpause = () => { cd.classList.remove('playing'); document.getElementById('play-btn').innerHTML = '<i class="fas fa-play"></i>'; }
    
    function handleNext() { if(!isRadio && mySongs.length) { currentIdx = (currentIdx + 1) % mySongs.length; playByIndex(currentIdx); } }
    function handlePrev() { if(!isRadio && mySongs.length) { currentIdx = (currentIdx - 1 + mySongs.length) % mySongs.length; playByIndex(currentIdx); } }
    function playByIndex(i) { const items = document.querySelectorAll('#panel-mp3 .item'); if(items[i]) items[i].click(); }

    loadRadios();</script></body></html>